-- phpMyAdmin SQL Dump
-- version 4.9.4
-- https://www.phpmyadmin.net/
--
-- Hôte : localhost:3306
-- Généré le : ven. 29 mai 2020 à 18:27
-- Version du serveur :  10.2.31-MariaDB
-- Version de PHP : 7.3.6

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données : `lorigpmd_ocp5`
--

-- --------------------------------------------------------

--
-- Structure de la table `comments`
--

CREATE TABLE `comments` (
  `id` int(11) NOT NULL,
  `idNews` int(11) NOT NULL,
  `idUser` int(11) NOT NULL,
  `contenu` text NOT NULL,
  `date` datetime NOT NULL,
  `validated` tinyint(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Déchargement des données de la table `comments`
--

INSERT INTO `comments` (`id`, `idNews`, `idUser`, `contenu`, `date`, `validated`) VALUES
(12, 6, 7, 'Super article!', '2020-05-06 17:36:42', 1),
(13, 5, 8, 'Cet article est un peu vieux...', '2020-05-06 19:01:23', 1),
(16, 11, 8, 'Super article', '2020-05-21 17:41:15', 1),
(18, 11, 7, 'git, je ne le savais pas aussi interessant', '2020-05-28 17:33:18', 1);

-- --------------------------------------------------------

--
-- Structure de la table `news`
--

CREATE TABLE `news` (
  `id` int(11) NOT NULL,
  `idUser` int(11) NOT NULL,
  `titre` varbinary(100) NOT NULL,
  `chapo` blob NOT NULL,
  `contenu` blob NOT NULL,
  `dateAjout` datetime NOT NULL,
  `dateModif` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Déchargement des données de la table `news`
--

INSERT INTO `news` (`id`, `idUser`, `titre`, `chapo`, `contenu`, `dateAjout`, `dateModif`) VALUES
(5, 8, 0x556e2061727469636c6520737572206c652068746d6c3521, 0x4c652068746d6c20632765737420737570657221, 0x48544d4c352028487970657254657874204d61726b7570204c616e677561676520352920657374206c61206465726e69c3a872652072c3a9766973696f6e206d616a657572652064752048544d4c2028666f726d617420646520646f6e6ec3a9657320636f6ec3a77520706f75722072657072c3a973656e746572206c657320706167657320776562292e2043657474652076657273696f6e206120c3a974c3a92066696e616c6973c3a965206c65203238206f63746f62726520323031342e2048544d4c35207370c3a9636966696520646575782073796e7461786573206427756e206d6f64756c652061627374726169742064c3a966696e6920656e207465726d657320646520444f4d203a2048544d4c35206574205848544d4c352e204c65206c616e6761676520636f6d7072656e6420c3a967616c656d656e7420756e6520636f75636865206170706c69636174696f6e2061766563206465206e6f6d62726575736573204150492c2061696e736920717527756e20616c676f726974686d65206166696e20646520706f75766f69722074726169746572206c657320646f63756d656e747320c3a0206c612073796e74617865206e6f6e20636f6e666f726d652e204c65207472617661696c206120c3a974c3a92072657072697320706172206c652057334320656e206d617273203230303720617072c3a8732061766f697220c3a974c3a9206c616e63c3a920706172206c65205748415457472e204c65732064657578206f7267616e69736174696f6e73207472617661696c6c656e7420656e20706172616c6cc3a86c6520737572206c65206dc3aa6d6520646f63756d656e74206166696e206465206d61696e74656e697220756e652076657273696f6e20756e69717565206465206c6120746563686e6f6c6f6769652e204c65205733432c206c65203232206d616920323031312c20616e6e6f6ec3a7616e7420756e652066696e616c69736174696f6e206465206c61207370c3a963696669636174696f6e20656e2032303134312c20657420656e636f7572616765206c65732064c3a976656c6f7070657572732057656220c3a0207574696c697365722048544d4c20352064c3a873206365206d6f6d656e742e2046696e20323031362c206c612076657273696f6e20352e3120657374206f6666696369656c6c656d656e74207075626c69c3a965206574207072c3a973656e746520706c75736965757273206e6f757665617574c3a9732071756920646f6976656e7420666163696c69746572206c65207472617661696c206465732064c3a976656c6f7070657572732064276170706c69636174696f6e7320576562322e, '2020-05-06 16:48:22', '2020-05-29 18:25:27'),
(6, 8, 0x4c65206a617661736372697074, 0x556e2061727469636c6520696e74c3a972657373616e7420737572206c65204a5321, 0x4a61766153637269707420287175692065737420736f7576656e7420616272c3a967c3a920656e204a53292065737420756e206c616e6761676520646520736372697074206cc3a96765722c206f7269656e74c3a9206f626a65742c207072696e636970616c656d656e7420636f6e6e7520636f6d6d65206c65206c616e676167652064652073637269707420646573207061676573207765622e204d61697320696c20657374206175737369207574696c6973c3a92064616e73206465206e6f6d627265757820656e7669726f6e6e656d656e747320657874c3a872696575727320617578206e61766967617465757273207765622074656c7320717565204e6f64652e6a732c2041706163686520436f756368444220766f6972652041646f6265204163726f6261742e204c6520636f6465204a6176615363726970742065737420696e7465727072c3a974c3a9206f7520636f6d70696cc3a920c3a0206c6120766f6cc3a96520284a4954292e20432765737420756e206c616e6761676520c3a0206f626a657473207574696c6973616e74206c6520636f6e636570742064652070726f746f747970652c20646973706f73616e74206427756e2074797061676520666169626c652065742064796e616d6971756520717569207065726d65742064652070726f6772616d6d65722073756976616e7420706c7573696575727320706172616469676d65732064652070726f6772616d6d6174696f6e203a20666f6e6374696f6e6e656c6c652c20696d70c3a9726174697665206574206f7269656e74c3a965206f626a65742e2041707072656e657a2d656e20706c757320737572204a6176615363726970742e, '2020-05-06 17:26:57', '2020-05-29 18:23:11'),
(8, 8, 0x4c65206c616e677561676520476f, 0x556e2061727469636c652073757220676f, 0x476f2065737420756e206c616e676167652064652070726f6772616d6d6174696f6e20636f6d70696cc3a920657420636f6e63757272656e7420696e73706972c3a920646520432065742050617363616c2e204365206c616e67616765206120c3a974c3a92064c3a976656c6f7070c3a92070617220476f6f676c653520c3a020706172746972206427756e20636f6e6365707420696e697469616c20646520526f62657274204772696573656d65722c20526f622050696b65206574204b656e2054686f6d70736f6e2e20476f20706f7373c3a86465206465757820696d706cc3a96d656e746174696f6e732c206c61207072656d69c3a87265207574696c6973652067632c206c6520636f6d70696c617465757220476f206574206c61207365636f6e6465207574696c69736520676363676f2c206c652066726f6e74656e642064652047434320c3a96372697420656e20432b2b2e20476f2065737420c3a96372697420656e204320656e207574696c6973616e74207961636320657420474e55204269736f6e20706f7572206c27616e616c7973652073796e7461786971756536206a7573717527c3a0206c612076657273696f6e20312e342c20657420656e20476f206c75692d6dc3aa6d6520706f7572206c65732076657273696f6e732073756976616e7465732028312e35292e0d0a0d0a4c6f676f20646520476f6f676c6520476f0d0a4d6173636f74746520646520476f6f676c6520476f2e0d0a556e206f626a656374696620646520476f2065737420646f6e6ec3a92070617220526f622050696b652c206c27756e206465207365732074726f6973206372c3a96174657572732c207175692064697420c3a02070726f706f73206465732064c3a976656c6f70706575727320696e657870c3a972696d656e74c3a973203a0d0a0d0a496c73206e6520736f6e74207061732063617061626c657320646520636f6d7072656e64726520756e206c616e67616765206272696c6c616e742c206d616973206e6f757320766f756c6f6e73206c657320616d656e657220c3a02072c3a9616c6973657220646520626f6e732070726f6772616d6d65732e2041696e73692c206c65206c616e6761676520717565206e6f7573206c65757220646f6e6e6f6e7320646f697420c3aa74726520666163696c6520c3a020636f6d7072656e64726520657420666163696c6520c3a02061646f707465722e0d0a0d0a476f207665757420666163696c6974657220657420616363c3a96cc3a8726572206c612070726f6772616d6d6174696f6e20c3a0206772616e646520c3a96368656c6c65203a20656e20726169736f6e2064652073612073696d706c69636974c3a920696c2065737420646f6e6320636f6e63657661626c65206465206c277574696c69736572206175737369206269656e20706f757220c3a9637269726520646573206170706c69636174696f6e732c206465732073637269707473206f75206465206772616e64732073797374c3a86d65732e2043657474652073696d706c69636974c3a920657374206ec3a9636573736169726520617573736920706f75722061737375726572206c61206d61696e74656e616e6365206574206c27c3a9766f6c7574696f6e206465732070726f6772616d6d65732073757220706c757369657572732067c3a96ec3a9726174696f6e732064652064c3a976656c6f7070657572732e0d0a0d0a5327696c2076697365206175737369206c612072617069646974c3a9206427657865637574696f6e2c20696e64697370656e7361626c6520c3a0206c612070726f6772616d6d6174696f6e2073797374c3a86d652c20696c20636f6e736964c3a87265206c65206d756c7469746872656164696e6720636f6d6d65206c65206d6f79656e206c6520706c757320726f62757374652064276173737572657220737572206c65732070726f63657373657572732061637475656c732063657474652072617069646974c3a920746f757420656e2072656e64616e74206c61206d61696e74656e616e636520666163696c65207061722073c3a97061726174696f6e2064652074c3a2636865732073696d706c6573206578c3a9637574c3a9657320696e64c3a970656e64616d6d656e74206166696e206427c3a97669746572206465206372c3a9657220646573207573696e657320c3a02067617a2e20436574746520636f6e63657074696f6e207065726d657420c3a967616c656d656e74206c6520666f6e6374696f6e6e656d656e742073616e732072c3a9c3a96372697475726520737572206465732061726368697465637475726573206d756c74692d636f6575727320656e206578706c6f6974616e7420696d6dc3a964696174656d656e74206c276175676d656e746174696f6e206465207075697373616e636520636f72726573706f6e64616e74652e, '2020-05-07 15:32:35', '2020-05-29 18:22:09'),
(9, 8, 0x4c65206c616e67756167652072756279, 0x436f7572742061727469636c6520737572205275627920657420736f6e20616e6369656e6e652068797065, 0x527562792065737420756e206c616e676167652064652070726f6772616d6d6174696f6e206c696272652e20496c2065737420696e7465727072c3a974c3a92c206f7269656e74c3a9206f626a6574206574206d756c74692d706172616469676d652e204c65206c616e67616765206120c3a974c3a9207374616e646172646973c3a9206175204a61706f6e20656e20323031312c20657420656e203230313220706172204f7267616e69736174696f6e20696e7465726e6174696f6e616c65206465206e6f726d616c69736174696f6e202849534f2033303137303a32303132292e, '2020-05-07 15:33:16', '2020-05-29 18:17:08'),
(10, 8, 0x4c6520707974686f6e, 0x4c65206c616e677561676520707974686f6e, 0x507974686f6e20282f3f70613f2e3f3f6e2f35292065737420756e206c616e676167652064652070726f6772616d6d6174696f6e20696e7465727072c3a974c3a92c206d756c74692d706172616469676d65206574206d756c7469706c617465666f726d65732e20496c206661766f72697365206c612070726f6772616d6d6174696f6e20696d70c3a9726174697665207374727563747572c3a9652c20666f6e6374696f6e6e656c6c65206574206f7269656e74c3a965206f626a65742e20496c2065737420646f74c3a9206427756e207479706167652064796e616d6971756520666f72742c206427756e652067657374696f6e206175746f6d617469717565206465206c61206dc3a96d6f697265207061722072616d617373652d6d696574746573206574206427756e2073797374c3a86d652064652067657374696f6e206427657863657074696f6e73203b20696c206573742061696e73692073696d696c6169726520c3a0205065726c2c20527562792c20536368656d652c20536d616c6c74616c6b2065742054636c2e0d0a0d0a4c65206c616e6761676520507974686f6e2065737420706c6163c3a920736f757320756e65206c6963656e6365206c696272652070726f636865206465206c61206c6963656e6365204253443620657420666f6e6374696f6e6e6520737572206c6120706c75706172742064657320706c617465732d666f726d657320696e666f726d617469717565732c2064657320736d61727470686f6e657320617578206f7264696e6174657572732063656e7472617578372c2064652057696e646f777320c3a020556e69782061766563206e6f74616d6d656e7420474e552f4c696e757820656e2070617373616e7420706172206d61634f532c206f7520656e636f726520416e64726f69642c20694f532c206574207065757420617573736920c3aa747265207472616475697420656e204a617661206f75202e4e45542e20496c2065737420636f6ec3a77520706f7572206f7074696d69736572206c612070726f6475637469766974c3a9206465732070726f6772616d6d6575727320656e206f666672616e7420646573206f7574696c732064652068617574206e697665617520657420756e652073796e746178652073696d706c6520c3a0207574696c697365722e0d0a0d0a496c2065737420c3a967616c656d656e742061707072c3a96369c3a920706172206365727461696e732070c3a96461676f677565732071756920792074726f7576656e7420756e206c616e67616765206fc3b9206c612073796e746178652c20636c616972656d656e742073c3a9706172c3a96520646573206dc3a963616e69736d657320646520626173206e69766561752c207065726d657420756e6520696e6974696174696f6e20616973c3a9652061757820636f6e63657074732064652062617365206465206c612070726f6772616d6d6174696f6e382e, '2020-05-07 15:34:34', '2020-05-29 18:15:27'),
(11, 8, 0x5175276573742d636520717565206769742061752066616974, 0x556e2070657469742061727469636c65207375722067697420617520666169742e2e2e, 0x4769742065737420756e206c6f67696369656c2064652067657374696f6e2064652076657273696f6e732064c3a963656e7472616c6973c3a92e20432765737420756e206c6f67696369656c206c69627265206372c3a9c3a920706172204c696e757320546f7276616c64732c20617574657572206475206e6f796175204c696e75782c206574206469737472696275c3a92073656c6f6e206c6573207465726d6573206465206c61206c6963656e6365207075626c697175652067c3a96ec3a972616c6520474e552076657273696f6e20322e20456e20323031362c20696c20732761676974206475206c6f67696369656c2064652067657374696f6e2064652076657273696f6e73206c6520706c757320706f70756c616972652071756920657374207574696c6973c3a92070617220706c757320646520646f757a65206d696c6c696f6e7320646520706572736f6e6e65732e, '2020-05-07 15:35:05', '2020-05-29 18:13:13');

-- --------------------------------------------------------

--
-- Structure de la table `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `login` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  `role` smallint(6) NOT NULL,
  `validated` tinyint(1) NOT NULL DEFAULT 0,
  `password` varchar(100) NOT NULL,
  `validationToken` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Déchargement des données de la table `users`
--

INSERT INTO `users` (`id`, `login`, `email`, `role`, `validated`, `password`, `validationToken`) VALUES
(7, 'toto', 'toto@toto.to', 2, 1, '$2y$10$HkmgwsHTKsBVxLHLL9VF2OGpSTWrBXgWhwtdQmMoyNmcRLdBg9XCG', 'void'),
(8, 'tata', 'tata@tata.ta', 1, 1, '$2y$10$SktyaMK5d9TV9nQTliz3aObab9jHqil0Tm3cyiU7TETSlD43EiKdy', 'void'),
(25, 'loris2', 'loris.chastanet@gmail.com', 2, 1, '$2y$10$tEpgRcTjkpUJGDkNmgTV8.PQfmWxpBB/.CDVKwqS.SKTQJtnoly8e', '2a18cb249184877d8ae4b7736383b029f66035e7f23483982d8b66b8ec96dc02');

--
-- Index pour les tables déchargées
--

--
-- Index pour la table `comments`
--
ALTER TABLE `comments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `comments_FK_1` (`idNews`),
  ADD KEY `comments_FK` (`idUser`);

--
-- Index pour la table `news`
--
ALTER TABLE `news`
  ADD PRIMARY KEY (`id`),
  ADD KEY `news_FK` (`idUser`);

--
-- Index pour la table `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT pour les tables déchargées
--

--
-- AUTO_INCREMENT pour la table `comments`
--
ALTER TABLE `comments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=19;

--
-- AUTO_INCREMENT pour la table `news`
--
ALTER TABLE `news`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT pour la table `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=26;

--
-- Contraintes pour les tables déchargées
--

--
-- Contraintes pour la table `comments`
--
ALTER TABLE `comments`
  ADD CONSTRAINT `comments_FK` FOREIGN KEY (`idUser`) REFERENCES `users` (`id`),
  ADD CONSTRAINT `comments_FK_1` FOREIGN KEY (`idNews`) REFERENCES `news` (`id`);

--
-- Contraintes pour la table `news`
--
ALTER TABLE `news`
  ADD CONSTRAINT `news_FK` FOREIGN KEY (`idUser`) REFERENCES `users` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
